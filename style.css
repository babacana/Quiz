/* Reset básico e Estilos Globais */
:root {
    /* Cores Padrão Originais */
    --caesb-blue-darkest-default: #002244;
    --caesb-blue-dark-default: #003366;
    --caesb-blue-medium-default: #0056a0;
    --caesb-blue-light-default: #007bff;
    --caesb-blue-highlight-default: #61dafb;
    --text-light-default: #ffffff;
    --text-dark-default: #333333;
    --background-options-default: #ffffff;
    --border-color-default: #004080;
    --error-color-default: #ff6b6b; /* Vermelho para erros/tempo crítico */
    --success-color-default: #51cf66; /* Verde para sucesso/tempo normal */
    --warning-color-default: #f0ad4e; /* Amarelo para aviso/tempo acabando */


    /* Variáveis CSS para Personalização (com fallback para os defaults) */
    --quiz-main-background: var(--caesb-blue-darkest-default);
    --quiz-primary-button-bg: var(--success-color-default);
    --quiz-primary-button-text: var(--text-light-default);
    --quiz-secondary-button-bg: var(--caesb-blue-dark-default);
    --quiz-secondary-button-border: var(--caesb-blue-medium-default);
    --quiz-secondary-button-text: var(--text-light-default);
    --quiz-main-text-color: var(--text-light-default);
    --quiz-highlight-color: var(--caesb-blue-highlight-default);
    --quiz-option-bg: var(--background-options-default);
    --quiz-option-text: var(--text-dark-default);
    --quiz-option-correct-bg: var(--success-color-default);
    --quiz-option-incorrect-bg: var(--error-color-default);

    /* Fontes Padrão Originais */
    --initial-slogan-font-size-default: clamp(1.1em, 4vw, 1.25em);
    --idle-call-to-action-font-size-default: clamp(2.8em, 7vw, 5.5em);
    --main-buttons-font-size-default: 1.1em;
    --question-text-font-size-default: clamp(1.1em, 3vw, 1.3em);

    /* Variáveis CSS para Tamanhos de Fonte Personalizáveis */
    --initial-slogan-font-size: var(--initial-slogan-font-size-default);
    --idle-call-to-action-font-size: var(--idle-call-to-action-font-size-default);
    --main-buttons-font-size: var(--main-buttons-font-size-default);
    --question-text-font-size: var(--question-text-font-size-default);
    --virtual-keyboard-key-font-size: 1em;
    --virtual-keyboard-handle-height: 20px;


    /* Outras variáveis existentes */
    --error-color-darker: #cc5656;
    --success-color-darker: #40a94f;
    --warning-color-darker: #ec971f;
    --info-color: #5bc0de;
    --info-color-darker: #31b0d5;
    --font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    --admin-header-height: 60px;
    --disabled-item-opacity: 0.5;
    --disabled-item-bg: #4a5568;
}

* { margin: 0; padding: 0; box-sizing: border-box; }
html, body { width: 100%; height: 100%; overflow: hidden; font-family: var(--font-family); }
body { background-color: var(--quiz-main-background); color: var(--quiz-main-text-color); display: flex; justify-content: center; align-items: center; }

.quiz-container {
    width: 100vw; height: 100vh;
    background-color: var(--quiz-main-background);
    display: flex; flex-direction: column;
    transition: opacity 0.5s ease-in-out;
    position: relative;
}

/* Pseudo-elemento para a borda pulsante */
.quiz-container::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100vw;
    height: 100vh;
    border: 7px solid transparent; /* A espessura da borda */
    box-sizing: border-box;
    pointer-events: none;
    z-index: 2498; /* Abaixo do flash, acima do conteúdo */
}

.quiz-container.time-alert-border-pulse-warning::before {
    animation: borderPulseWarningGlow 1.0s infinite ease-out;
}

.quiz-container.time-alert-border-pulse-critical::before {
    animation: borderPulseCriticalGlow 0.7s infinite ease-out;
}


.admin-page-container {
    display: flex; flex-direction: column;
    height: 100%; width: 100%;
    background-color: var(--caesb-blue-darkest-default);
    border: none;
}
.quiz-container.fading-to-idle {
    opacity: 0.3;
}
.admin-page-container.admin-dev-mode-active .screen-header-admin {
    background-color: var(--warning-color-darker);
    border-bottom: 2px solid var(--warning-color-default);
}
.admin-page-container.admin-dev-mode-active .screen-header-admin h2 {
    color: var(--text-dark-default);
}


.hidden { display: none !important; }

.screen {
    display: none; flex-direction: column; align-items: center;
    width: 100%; box-sizing: border-box; animation: fadeIn 0.3s ease-in-out;
    text-align: center;
    height: 100%; background-color: transparent;
    padding: 0;
    position: relative;
    z-index: 1;
}
.screen.active { display: flex !important; }

.admin-sub-screen,
#admin-dashboard-screen,
#admin-reports-screen,
#admin-stats-screen,
#admin-questions-screen,
#admin-settings-screen,
#admin-backup-screen,
#admin-tester-screen,
#admin-event-screen,
#admin-customization-screen,
#admin-analytics-screen { /* Adicionado ID da nova tela */
    display: flex;
    flex-direction: column;
    height: 100%;
    overflow: hidden;
}

.screen-header-admin {
    width: 100%;
    padding: 15px 20px;
    background-color: var(--caesb-blue-darkest-default);
    z-index: 10;
    display: flex;
    justify-content: space-between;
    align-items: center;
    height: var(--admin-header-height);
    flex-shrink: 0;
    border-bottom: 1px solid var(--caesb-blue-medium-default);
}
.screen-header-admin h2 { font-size: 1.5em; padding: 0; flex-grow: 1; text-align: center; margin: 0; color: var(--text-light-default); }


.admin-sub-screen > .screen-content.admin-content,
#admin-dashboard-screen > .screen-content.admin-dashboard-content,
#admin-reports-screen > .screen-content.admin-content,
#admin-stats-screen > .screen-content.admin-content,
#admin-questions-screen > .screen-content.admin-content,
#admin-settings-screen > .screen-content.admin-content,
#admin-backup-screen > .screen-content.admin-content,
#admin-tester-screen > .screen-content.admin-content,
#admin-event-screen > .screen-content.admin-content,
#admin-customization-screen > .screen-content.admin-content,
#admin-analytics-screen > .screen-content.admin-content { /* Adicionado ID da nova tela */
    flex-grow: 1;
    overflow-y: auto;
    min-height: 0;
    padding: 20px;
    width: 100%;
    margin: 0;
    max-width: none;
}


#idle-screen {
    justify-content: flex-start; padding: 0; position: relative;
    overflow-y: hidden;
    overflow-x: hidden;
}
#idle-screen .screen-content {
    display: flex; flex-direction: column; align-items: center; justify-content: flex-start;
    width: 100%; max-width: 600px; margin: 0 auto;
    padding: clamp(20px, 5vh, 50px);
    z-index: 1;
    overflow-y: hidden;
    flex-grow: 0;
}
#idle-screen .caesb-logo { margin-bottom: clamp(15px, 3vh, 30px); }
#idle-screen .slogan { font-size: var(--initial-slogan-font-size); margin-bottom: clamp(20px, 4vh, 40px); color: white; }
#idle-screen #idle-call-to-action {
    font-size: var(--idle-call-to-action-font-size);
    line-height: 1.2;
    white-space: normal;
    font-weight: bold; color: var(--quiz-highlight-color);
    animation: pulse-glow-idle-text 1.5s infinite alternate;
    text-shadow: 0 0 5px var(--quiz-highlight-color), 0 0 10px var(--quiz-main-text-color);
    cursor: pointer; padding: 10px 1px; border-radius: 10px;
    transition: background-color 0.3s ease;
    position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
    width: 96vw; max-width: 96vw; text-align: center;
    overflow: visible;
}
#idle-screen #idle-call-to-action small {
    font-size: 0.4em;
    display: block;
    margin-top: 5px;
    font-weight: normal;
    color: var(--quiz-main-text-color);
    opacity: 0.8;
}
#idle-screen #idle-call-to-action:hover { background-color: rgba(97, 218, 251, 0.1); }
@keyframes pulse-glow-idle-text {
    0% { opacity: 0.8; transform: translate(-50%, -50%) scale(1); text-shadow: 0 0 5px var(--quiz-highlight-color), 0 0 10px var(--quiz-main-text-color); }
    100% { opacity: 1; transform: translate(-50%, -50%) scale(1.03); text-shadow: 0 0 10px var(--quiz-highlight-color), 0 0 20px var(--quiz-highlight-color), 0 0 30px rgba(97, 218, 251, 0.6); }
}

#admin-login-screen { justify-content: center; align-items: center; overflow-y: auto; padding:0; }
#admin-login-screen .screen-content {
    border-radius: 0; padding: 20px; max-height: none; width: 100%; max-width: 450px;
    box-shadow: none; border: none; flex-grow: 0;
}

.screen-content {
    width: 100%;
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 10px;
}

#ranking-screen .screen-content {
    display: flex;
    flex-direction: column;
    height: 100%;
    padding: 15px;
    overflow: hidden;
    width: 100%;
    max-width: 600px;
}

#result-screen .screen-content {
    width: 90%;
    max-width: 550px;
    justify-content: center;
    margin-left: auto;
    margin-right: auto;
    padding: 15px;
    flex-grow: 0;
}

.admin-dashboard-content {
    display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
    width: 100%;
    align-content: flex-start;
    max-width: 1200px;
    margin: 0 auto;
}
.admin-dashboard-card {
    background-color: var(--caesb-blue-dark-default); border: 1px solid var(--caesb-blue-medium-default);
    border-radius: 10px; padding: 20px; display: flex; flex-direction: column;
    align-items: center; justify-content: center; text-align: center; cursor: pointer;
    transition: background-color 0.3s, transform 0.2s, box-shadow 0.3s;
    color: var(--text-light-default); box-shadow: 0 4px 10px rgba(0,0,0,0.2);
}
.admin-dashboard-card:hover { background-color: var(--caesb-blue-medium-default); transform: translateY(-5px); box-shadow: 0 8px 15px rgba(0,0,0,0.3); }
.admin-dashboard-card h3 { font-size: 1.4em; margin-bottom: 10px; color: var(--caesb-blue-highlight-default); }
.admin-dashboard-card p { font-size: 0.9em; color: #ccc; margin-bottom: 0; }


.admin-form-section, .admin-list-section {
    background-color: rgba(0, 34, 68, 0.8); border: 1px solid var(--border-color-default);
    border-radius: 10px; padding: 20px; margin-bottom: 25px; width: 100%;
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    flex-shrink: 0;
    max-width: 800px;
    margin-left: auto;
    margin-right: auto;
}
.admin-form-section .admin-form-section { padding: 15px; margin-top: 15px; background-color: rgba(0, 51, 102, 0.7); border-color: var(--caesb-blue-dark-default); }

.caesb-logo {
    display: block; margin-left: auto; margin-right: auto; width: 75vw;
    max-width: 450px; min-width: 200px; height: auto; max-height: 35vh;
    object-fit: contain; margin-top: clamp(10px, 2vh, 20px);
    margin-bottom: clamp(10px, 2vh, 20px); flex-shrink: 0;
}

.logo-preview-container { margin-top: 15px; margin-bottom: 15px; text-align: center; }
.logo-preview-container p { margin-bottom: 5px; font-size: 0.9em; color: var(--quiz-highlight-color); }
#logo-preview-img { display: block; margin: 0 auto; max-width: 200px; max-height: 100px; height: auto; border: 1px solid var(--caesb-blue-medium-default); border-radius: 5px; background-color: rgba(255,255,255,0.1); padding: 5px; object-fit: contain; }


#initial-screen .screen-content {
    width: 100%;
    max-width: 600px;
    justify-content: center;
    padding: 20px;
}
#initial-screen .screen-content > h2,
#initial-screen .screen-content > p,
#initial-screen .form-group {
    width: 100%;
}
#initial-screen .form-group input[type="text"],
#initial-screen .form-group input[type="tel"] {
    width: 100%;
}
#initial-screen h2 { font-size: clamp(1.8em, 6vw, 2.2em); margin-bottom: clamp(10px, 2vh, 15px); color: var(--quiz-main-text-color); }
#initial-screen .slogan { font-size: var(--initial-slogan-font-size); margin-bottom: clamp(10px, 2vh, 15px); color: var(--quiz-highlight-color);}
#initial-screen p:not(.slogan):not(#event-status-message) { font-size: clamp(0.9em, 3.2vw, 1.0em); margin-bottom: clamp(15px, 2.5vh, 20px); color: var(--quiz-main-text-color); }
#initial-screen .form-group { margin-bottom: clamp(10px, 1.5vh, 15px); }
#initial-screen #start-quiz-btn, #initial-screen #view-ranking-initial-btn { padding: 13px 20px; font-size: var(--main-buttons-font-size); font-weight: bold; border-radius: 8px; width: 100%; text-align: center; cursor: pointer; transition: background-color 0.3s, transform 0.1s, opacity 0.3s; text-decoration: none; }
#initial-screen #start-quiz-btn { background-color: var(--quiz-primary-button-bg); border: none; color: var(--quiz-primary-button-text); margin-top: clamp(12px, 1.8vh, 18px); }
#initial-screen #start-quiz-btn:hover:not(:disabled) { filter: brightness(0.9); }
#initial-screen #start-quiz-btn:active:not(:disabled) { transform: scale(0.98); }
#initial-screen #view-ranking-initial-btn { background-color: var(--quiz-secondary-button-bg); border: 2px solid var(--quiz-secondary-button-border); color: var(--quiz-secondary-button-text); margin-top: 10px; }
#initial-screen #view-ranking-initial-btn:hover:not(:disabled) { filter: brightness(1.2); }
#initial-screen #view-ranking-initial-btn:active:not(:disabled) { transform: scale(0.98); }
#initial-screen .screen-content > button:disabled { background-color: #525c66 !important; border-color: #41484e !important; color: #919ca6 !important; cursor: not-allowed !important; opacity: 0.6; }
#initial-screen .screen-content > .btn-secondary:disabled { background-color: transparent !important; border-color: #525c66 !important; color: #525c66 !important; }
#event-status-message { color: var(--warning-color-default); font-size: 0.95em; text-align: center; padding: 10px 15px; border: 1px solid var(--warning-color-darker); background-color: rgba(240, 173, 78, 0.15); border-radius: 8px; margin-top: 5px; margin-bottom: 15px; line-height: 1.4; }


#quiz-screen { position: relative; padding:0; }
#quiz-screen > .caesb-logo { margin-bottom: clamp(10px, 1.5vh, 15px); }

.quiz-header-top {
    width: 100%;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
    padding: 10px 15px;
    margin-top: 0;
    margin-bottom: clamp(10px, 2vh, 15px);
    flex-shrink: 0;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 10px;
}

#question-difficulty-tag,
.quiz-counter,
.quiz-timer {
    padding: 5px 8px;
    border-radius: 5px;
    border: 1px solid var(--caesb-blue-medium-default);
    min-width: 60px;
    text-align: center;
    font-size: 0.9em;
    font-weight: bold;
    flex-shrink: 0;
    line-height: 1.4;
    box-sizing: border-box;
}

#question-difficulty-tag {
    text-transform: capitalize;
    margin-right: 5px;
    color: var(--text-light-default);
}

.difficulty-facil { background-color: var(--success-color-default) !important; border-color: var(--success-color-darker) !important; }
.difficulty-moderado { background-color: var(--warning-color-default) !important; color: var(--text-dark-default) !important; border-color: var(--warning-color-darker) !important; }
.difficulty-dificil { background-color: var(--error-color-default) !important; border-color: var(--error-color-darker) !important; }
.difficulty-na { background-color: #777 !important; border-color: #555 !important;}


.quiz-counter {
    background-color: rgba(0, 51, 102, 0.7);
    color: var(--quiz-highlight-color);
}

.quiz-timer {
    transition: color 0.3s ease-in-out, background-color 0.3s ease-in-out;
}
.quiz-timer.timer-normal {
    background-color: rgba(0, 51, 102, 0.7);
    color: var(--quiz-highlight-color);
}
.quiz-timer.timer-warning {
    color: var(--text-dark-default);
    background-color: var(--warning-color-default) !important;
    border-color: var(--warning-color-darker) !important;
    font-weight: bold;
}
.quiz-timer.timer-critical {
    color: var(--text-light-default);
    background-color: var(--error-color-default) !important;
    border-color: var(--error-color-darker) !important;
    font-weight: bold;
    animation: pulseTimerCritical 0.7s infinite alternate;
}

@keyframes pulseTimerCritical {
    from { transform: scale(1); opacity: 1; }
    to   { transform: scale(1.05); opacity: 0.85; }
}


#progress-bar-container {
    flex-grow: 1;
    height: 10px;
    background-color: rgba(0, 34, 68, 0.5);
    border-radius: 5px;
    overflow: hidden;
    border: 1px solid var(--caesb-blue-dark-default);
    margin: 0 5px;
}
#progress-bar-fill {
    height: 100%;
    width: 0%;
    background-color: var(--quiz-highlight-color); /* MODIFICADO para azul */
    border-radius: 5px;
    transition: width 0.3s ease-out;
}

#quiz-screen .screen-content {
    padding: 10px 20px 20px 20px;
    width: 100%;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
    flex-grow: 1;
    justify-content: flex-start;
    overflow-y: auto;
}
#question-area {
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-top: 0;
    /* position: relative; REMOVIDO para corrigir botão desistir */
}

#question-text {
    margin-top: 15px;
    margin-bottom: clamp(15px, 2.5vh, 25px);
    font-size: var(--question-text-font-size);
    line-height: 1.45; width: 100%; text-align: center;
    color: var(--quiz-main-text-color);
}


#options-container { display: flex; flex-direction: column; justify-content: flex-start; width: 100%; margin-bottom: clamp(10px, 2vh, 15px); }

/* Estilos para a nova barra de tempo da questão */
#question-time-bar-container {
    width: 100%;
    height: 14px;
    background-color: rgba(0, 0, 0, 0.25);
    border-radius: 7px;
    margin-top: 20px;
    margin-bottom: 20px;
    overflow: hidden;
    position: relative; /* Para o posicionamento absoluto do filho */
}

#question-time-bar-fill {
    height: 100%;
    width: 100%;
    background-color: var(--success-color-default);
    border-radius: 7px;
    transition: background-color 0.5s linear;
    position: absolute;
    top: 0;
    bottom: 0;
    right: 0; /* Alinha à direita, para encolher da esquerda para a direita */
}

/* Estilos para o container da mensagem de tempo esgotado e botão Próxima */
#post-question-controls {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    margin-top: 15px;
    padding: 0 10px;
    box-sizing: border-box;
}

#timeout-message-text {
    color: var(--warning-color-default);
    font-size: 1em;
    font-weight: bold;
    margin: 0 15px 0 0;
    padding: 0;
    line-height: 1.4;
}

#post-question-controls #next-question-btn {
    margin-top: 0;
    width: auto;
    flex-grow: 0; /* Para não esticar demais se a mensagem for curta */
    padding-left: 25px;
    padding-right: 25px;
}


#quiz-screen #question-area #next-question-btn {
    /* A regra original do botão já é .btn, que é display block e width 100%.
       Dentro do #post-question-controls, ajustamos acima para width: auto e flex-grow:0.
       Se ele estiver fora (como antes), a classe .btn já o faz ocupar a largura.
       Portanto, não precisamos de mais nada específico aqui, a menos que a estrutura mude novamente.
    */
}

#options-container.options-really-dimmed .option {
    opacity: 0.45 !important;
    /* filter: grayscale(50%); */
    pointer-events: none !important;
}
/* Opacidade padrão para opções desabilitadas (seja por clique ou por .options-really-dimmed) */
#options-container .option.disabled {
    pointer-events: none;
    opacity: 0.45; /* Aumenta a evidência de desabilitado */
}


#result-screen #show-incorrect-answers-btn, #result-screen #show-ranking-btn, #result-screen #restart-quiz-btn { padding: 13px 20px; font-size: var(--main-buttons-font-size); font-weight: bold; border-radius: 8px; width: 100%; text-align: center; cursor: pointer; transition: background-color 0.3s, border-color 0.3s, color 0.3s, transform 0.1s; margin-top: 10px; margin-bottom: 0; text-decoration: none; }
#result-screen #show-incorrect-answers-btn { background-color: var(--quiz-secondary-button-bg); border: 2px solid var(--quiz-secondary-button-border); color: var(--error-color-default); }
#result-screen #show-incorrect-answers-btn:hover { filter: brightness(1.2); color: var(--quiz-secondary-button-text); }
#result-screen #show-ranking-btn { background-color: var(--quiz-secondary-button-bg); border: 2px solid var(--quiz-secondary-button-border); color: var(--quiz-secondary-button-text); }
#result-screen #show-ranking-btn:hover { filter: brightness(1.2); }
#result-screen #restart-quiz-btn { background-color: var(--quiz-primary-button-bg); border: none; color: var(--quiz-primary-button-text); margin-bottom: 10px; }
#result-screen #restart-quiz-btn:hover { filter: brightness(0.9); }
#result-screen #show-incorrect-answers-btn:active, #result-screen #show-ranking-btn:active, #result-screen #restart-quiz-btn:active { transform: scale(0.98); }
#result-screen .screen-content h2#result-player-name-title { font-size: clamp(1.7em, 5.5vw, 2.1em); font-weight: bold; text-align: center; width: 100%; margin: 0 0 15px 0; padding: 0; line-height: 1.35; white-space: normal; overflow-wrap: break-word; word-wrap: break-word; color: var(--quiz-highlight-color); }
#result-screen .screen-content p#result-summary-details { font-size: clamp(1.0em, 3.5vw, 1.15em); line-height: 1.6; margin: 5px 0 12px 0; padding: 0; color: var(--quiz-main-text-color); }
#result-screen .screen-content p#result-summary-details p { margin-bottom: 8px; }
#result-screen .screen-content p#result-summary-details strong { color: var(--quiz-highlight-color); font-weight: 600; margin-left: 5px; }
#result-screen .screen-content p#result-prize-message { font-size: clamp(1.0em, 3.8vw, 1.2em); font-weight: bold; margin: 15px 0 20px 0; padding: 0; border-radius: 0; background-color: transparent; border: none; text-align: center; }
#result-screen .screen-content p#result-prize-message.prize-won { color: var(--quiz-option-correct-bg); }
#result-screen .screen-content p#result-prize-message.prize-not-won { color: var(--quiz-option-incorrect-bg); }

#ranking-screen .caesb-logo, #ranking-screen .screen-content h2 { flex-shrink: 0; }
#ranking-screen .screen-content h2 { font-size: clamp(1.8em, 6vw, 2.2em); margin-bottom: clamp(10px, 2vh, 15px); color: var(--quiz-main-text-color); }
#ranking-screen #ranking-list { flex-grow: 1; overflow-y: auto; min-height: 0; width: 100%; margin-bottom: 15px; padding-right: 5px; box-sizing: border-box; background-color: rgba(0, 34, 68, 0.3); border-radius: 8px; }
#ranking-screen #ranking-list li { background-color: var(--caesb-blue-medium-default); border: 1px solid var(--caesb-blue-dark-default); color: var(--quiz-main-text-color); }
.ranking-list-shared-style { list-style-type: none; padding: 0; width: 100%; }
.ranking-list-shared-style li { padding: 10px 15px; margin-bottom: 8px; border-radius: 8px; display: flex; justify-content: space-between; align-items: baseline; font-size: 0.95em; }
.ranking-list-shared-style li > span:first-child { flex-basis: 55%; min-width: 0; overflow: hidden; text-align: left; display: flex; align-items: baseline; }
.ranking-list-shared-style li .rank-name { font-weight: bold; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; margin-left: 5px; flex-grow: 1; min-width: 0; }
.ranking-list-shared-style li .rank-score { flex-basis: 25%; text-align: right; color: var(--quiz-highlight-color); white-space: nowrap; padding-left: 5px; flex-shrink: 0; }
.ranking-list-shared-style li .rank-time { flex-basis: 20%; text-align: right; font-size: 0.9em; color: #ccc; white-space: nowrap; padding-left: 5px; flex-shrink: 0; }

#options-container .option { padding: clamp(12px, 2vh, 16px); margin-bottom: 12px; font-size: clamp(0.95em, 2.6vw, 1.05em); background-color: var(--quiz-option-bg); color: var(--quiz-option-text); border-radius: 10px; cursor: pointer; transition: background-color 0.3s, transform 0.2s, border-color 0.3s, opacity 0.3s; border: 2px solid transparent; text-align: left; }
.btn-give-up { position: absolute; top: 20px; left: 20px; background-color: transparent; color: var(--quiz-highlight-color); border: 1px solid var(--quiz-highlight-color); border-radius: 50%; width: 40px; height: 40px; font-size: 1.8em; line-height: 36px; text-align: center; padding: 0; cursor: pointer; transition: background-color 0.3s, color 0.3s, transform 0.1s; z-index: 10; }
.btn-give-up:hover { background-color: rgba(0, 123, 255, 0.15); color: var(--quiz-main-text-color); }

#admin-login-screen h2 { text-align: center; width: 100%; margin-top: 0; padding-top: 0; font-size: clamp(1.8em, 6vw, 2.2em); margin-bottom: 20px; }

.report-actions-bottom { margin-top: 0; margin-bottom: 25px; display: flex; flex-direction: column; align-items: center; gap: 15px; flex-shrink: 0; }
.report-actions-bottom h4 { width: 100%; text-align: center; margin-bottom: 0; }
.report-buttons-row { display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; width: 100%; }
.report-buttons-row .btn { display: inline-block; width: auto; flex-grow: 1; min-width: 150px; margin-top: 0; }

@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
h2 { font-size: 2.2em; color: var(--quiz-main-text-color); margin-bottom: 20px; font-weight: bold; padding-top: 15px; }
h3 { color: var(--quiz-main-text-color); margin-bottom: 20px; font-size: 1.4em; line-height: 1.5; }
h4 { color: var(--quiz-main-text-color); margin-bottom: 10px; font-size: 1.1em; }
h5 { color: var(--quiz-highlight-color); margin-bottom: 10px; font-size: 1em; }
p { margin-bottom: 15px; line-height: 1.6; font-size: 1em; color: var(--quiz-main-text-color); }
.form-group { margin-bottom: 15px; width: 100%; text-align: left; }
.form-group label { display: block; margin-bottom: 8px; font-weight: normal; color: var(--quiz-highlight-color); font-size: 0.9em; }
.form-group input[type="checkbox"] { margin-right: 8px; vertical-align: middle; width: auto; transform: scale(1.2); }
.checkbox-label-text { vertical-align: middle; font-size: 0.95em; color: var(--quiz-main-text-color); }
.form-group input[type="text"], .form-group input[type="tel"], .form-group input[type="password"], .form-group input[type="number"], .form-group input[type="file"], .form-group input[type="search"], .form-group input[type="datetime-local"], .form-group textarea, .form-group input[type="color"], .form-group select {
    width: 100%;
    padding: 12px 15px;
    background-color: rgba(255, 255, 255, 0.15);
    border: 1px solid var(--border-color-default);
    border-radius: 8px;
    font-size: 1em;
    color: var(--text-light-default);
    transition: border-color 0.3s, background-color 0.3s;
    box-sizing: border-box;
}
.form-group select {
    appearance: none; -webkit-appearance: none; -moz-appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%2361dafb' viewBox='0 0 16 16'%3E%3Cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3E%3C/svg%3E");
    background-repeat: no-repeat; background-position: right 15px center; background-size: 16px 12px;
    padding-right: 40px;
}
#add-edit-question-form #question-difficulty-input {
    max-width: 220px;
}

.form-group select option {
    background-color: var(--caesb-blue-dark-default);
    color: var(--text-light-default);
    padding: 8px 15px;
}
.form-group select:focus {
    border-color: var(--caesb-blue-highlight-default);
    background-color: rgba(255, 255, 255, 0.25);
    outline: none;
}

.form-group input[type="color"] { padding: 5px; height: 45px; }
.form-group input[type="datetime-local"] { color-scheme: dark; }
.form-group textarea { min-height: 100px; resize: vertical; }
.form-group input[type="file"]::-webkit-file-upload-button, .form-group input[type="file"]::file-selector-button { background-color: var(--caesb-blue-medium-default); color: var(--text-light-default); border: none; padding: 8px 12px; border-radius: 5px; cursor: pointer; margin-right: 10px; }
.form-group input::placeholder, .form-group textarea::placeholder { color: rgba(255, 255, 255, 0.6); }
.form-group input:focus, .form-group textarea:focus, .form-group input[type="datetime-local"]:focus, .form-group input[type="color"]:focus, .form-group select:focus { border-color: var(--caesb-blue-highlight-default); background-color: rgba(255, 255, 255, 0.25); outline: none; }
#initial-screen .form-group input#nome, #initial-screen .form-group input#telefone, #admin-login-screen .form-group input#admin-password { background-color: var(--text-light-default); color: var(--text-dark-default); border: 1px solid #cccccc; }
#initial-screen .form-group input#nome::placeholder, #initial-screen .form-group input#telefone::placeholder, #admin-login-screen .form-group input#admin-password::placeholder { color: #999999; }
#initial-screen .form-group input#nome:focus, #initial-screen .form-group input#telefone:focus, #admin-login-screen .form-group input#admin-password:focus { border-color: var(--caesb-blue-medium-default); background-color: var(--text-light-default); box-shadow: 0 0 0 2px rgba(0, 86, 160, 0.2); color: var(--text-dark-default); }

.btn { display: block; width: 100%; background-color: var(--quiz-primary-button-bg); color: var(--quiz-primary-button-text); padding: 15px 20px; border: none; border-radius: 8px; cursor: pointer; font-size: var(--main-buttons-font-size); font-weight: bold; text-align: center; margin-top: 15px; transition: background-color 0.3s, transform 0.1s; text-decoration: none; }
.btn:hover { filter: brightness(0.9); }
.btn:active { transform: scale(0.98); }
.btn-secondary { display: block; width: 100%; background-color: var(--quiz-secondary-button-bg); border: 2px solid var(--quiz-secondary-button-border); color: var(--quiz-secondary-button-text); padding: 15px 20px; border-radius: 8px; cursor: pointer; font-size: var(--main-buttons-font-size); font-weight: bold; text-align: center; margin-top: 15px; transition: background-color 0.3s, color 0.3s, transform 0.1s; text-decoration: none; }
.btn-secondary:hover { filter: brightness(1.2); }
.btn-secondary:active { transform: scale(0.98); }
.btn-warning { background-color: var(--warning-color-default); border-color: var(--warning-color-default); color: var(--text-dark-default); }
.btn-warning:hover { background-color: var(--warning-color-darker); border-color: var(--warning-color-darker); color: var(--text-light-default); }
.btn-danger { background-color: var(--error-color-default); color: var(--text-light-default); }
.btn-danger:hover { background-color: var(--error-color-darker); }

#admin-tester-screen .admin-form-section .btn-secondary { margin-bottom: 10px; }
#admin-tester-screen #test-goto-initial, #admin-tester-screen #test-goto-quiz, #admin-tester-screen #test-goto-result, #admin-tester-screen #test-goto-ranking, #admin-tester-screen #test-goto-idle { background-color: var(--info-color); border-color: var(--info-color-darker); color: var(--text-light-default); }
#admin-tester-screen #test-goto-initial:hover, #admin-tester-screen #test-goto-quiz:hover, #admin-tester-screen #test-goto-result:hover, #admin-tester-screen #test-goto-ranking:hover, #admin-tester-screen #test-goto-idle:hover { background-color: var(--info-color-darker); }
#admin-tester-screen #test-modal-already-won, #admin-tester-screen #test-modal-top3, #admin-tester-screen #test-modal-incorrect-answers { background-color: var(--caesb-blue-medium-default); border-color: var(--caesb-blue-light-default); color: var(--text-light-default); }
#admin-tester-screen #test-modal-already-won:hover, #admin-tester-screen #test-modal-top3:hover, #admin-tester-screen #test-modal-incorrect-answers:hover { background-color: var(--caesb-blue-light-default); }
#admin-tester-screen #test-result-top1-winner, #admin-tester-screen #test-result-non-top3-winner { background-color: var(--success-color-default); border-color: var(--success-color-darker); color: var(--text-light-default); }
#admin-tester-screen #test-result-top1-winner:hover, #admin-tester-screen #test-result-non-top3-winner:hover { background-color: var(--success-color-darker); }
#admin-tester-screen #test-result-loser { background-color: var(--error-color-default); border-color: var(--error-color-darker); color: var(--text-light-default); }
#admin-tester-screen #test-result-loser:hover { background-color: var(--error-color-darker); }


.error-message { color: var(--error-color-default); font-size: 0.9em; margin-top: 10px; text-align: center; }
.status-message { font-size: 0.9em; margin-top: 10px; font-weight: bold; min-height: 1.2em; }
.status-message.success { color: var(--success-color-default); }
.status-message.error { color: var(--error-color-default); }
#options-container .option:hover { background-color: #f0f0f0; border-color: var(--caesb-blue-medium-default); }
#options-container .option.correct { background-color: var(--quiz-option-correct-bg); color: var(--text-light-default); border-color: var(--success-color-darker); }
#options-container .option.incorrect { background-color: var(--quiz-option-incorrect-bg); color: var(--text-light-default); border-color: var(--error-color-darker); }
#options-container .option.disabled {
    pointer-events: none;
    opacity: 0.45; /* Opacidade aumentada para desabilitado */
}

/* Estilos do Teclado Virtual */
#virtual-keyboard {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    padding: 5px;
    padding-top: calc(var(--virtual-keyboard-handle-height) + 5px);
    background-color: #1c2833;
    display: grid;
    gap: 5px;
    z-index: 1000;
    border-top: 1px solid var(--caesb-blue-medium-default);
    color: var(--text-light-default);
    height: 30vh;
    user-select: none;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
}
#virtual-keyboard.resizing {
    transition: none;
}
#keyboard-resize-handle {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: var(--virtual-keyboard-handle-height);
    background-color: var(--caesb-blue-medium-default);
    cursor: ns-resize;
    display: flex;
    align-items: center;
    justify-content: center;
    border-bottom: 1px solid var(--caesb-blue-dark-default);
    z-index: 1001;
}
#keyboard-resize-handle::before {
    content: '';
    width: 50px;
    height: 4px;
    background-color: rgba(255, 255, 255, 0.5);
    border-radius: 2px;
}
#virtual-keyboard.resizing #keyboard-resize-handle {
    background-color: var(--caesb-blue-light-default);
}
#virtual-keyboard button {
    padding: 0;
    font-size: var(--virtual-keyboard-key-font-size);
    background-color: rgba(255, 255, 255, 0.1);
    border: 1px solid var(--caesb-blue-medium-default);
    border-radius: 4px;
    cursor: pointer;
    color: var(--text-light-default);
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 0;
    line-height: 1;
    transition: background-color 0.2s, font-size 0.2s ease-out;
    flex-grow: 1;
    height: 100%;
}
#virtual-keyboard button:hover { background-color: rgba(255, 255, 255, 0.2); }
#virtual-keyboard button.ok-key-highlight { background-color: var(--success-color-default); color: var(--text-light-default); font-weight: bold; }
#virtual-keyboard button.ok-key-highlight:hover { background-color: var(--success-color-darker); }

.admin-instructions { font-size: 0.85em; color: #bdc3c7; margin-top: 15px;}
#questions-list { list-style-type: none; padding: 0; }
#questions-list li { background-color: rgba(0, 51, 102, 0.6); border: 1px solid var(--caesb-blue-medium-default); color: var(--text-light-default); padding: 12px 18px; margin-bottom: 12px; border-radius: 8px; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; transition: background-color 0.2s ease; }
#questions-list li:hover { background-color: rgba(0, 86, 160, 0.7); }
#questions-list li.disabled-question { background-color: var(--disabled-item-bg); opacity: var(--disabled-item-opacity); }
#questions-list li.disabled-question .question-item-text { text-decoration: line-through; }
#questions-list li .question-number { font-weight: bold; margin-right: 10px; color: var(--caesb-blue-highlight-default); font-size: 1.1em; }
#questions-list li .question-item-text { flex-grow: 1; margin-right: 15px; flex-basis: auto; word-break: break-word; text-align: left; line-height: 1.4; }
#questions-list li .question-item-difficulty { font-size: 0.8em; padding: 2px 6px; border-radius: 4px; margin-right: 10px; font-style: italic; flex-shrink: 0;}
#questions-list li .actions { display: flex; gap: 10px; flex-shrink: 0; margin-top: 5px; }
#questions-list li .actions button { background-color: var(--caesb-blue-medium-default); color: var(--text-light-default); border: none; padding: 8px 14px; font-size: 0.9em; border-radius: 6px; cursor: pointer; min-width: 75px; text-align: center; transition: background-color 0.2s, transform 0.1s; }
#questions-list li .actions button:hover { background-color: var(--caesb-blue-light-default); }
.btn-toggle-q-status { min-width: 100px !important; }
.btn-toggle-q-status.enabled-q { background-color: var(--success-color-default) !important; }
.btn-toggle-q-status.enabled-q:hover { background-color: var(--success-color-darker) !important; }
.btn-toggle-q-status.disabled-q { background-color: var(--warning-color-default) !important; color: var(--text-dark-default) !important; }
.btn-toggle-q-status.disabled-q:hover { background-color: var(--warning-color-darker) !important; color: var(--text-light-default) !important;}


.collapsible-section {
    flex-shrink: 0;
}
.collapsible-header {
    cursor: pointer;
    padding: 10px 15px;
    background-color: transparent;
    border-bottom: 1px solid var(--border-color-default);
    margin-bottom: 0 !important;
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: background-color 0.3s;
}
.collapsible-header:hover {
    background-color: rgba(0, 86, 160, 0.2);
}
.collapse-icon {
    font-size: 0.8em;
    transition: transform 0.3s ease-out;
}
.collapsible-header.collapsed .collapse-icon {
    transform: rotate(-90deg);
}
.collapsible-content {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.4s ease-out, padding-top 0.4s ease-out, padding-bottom 0.4s ease-out, visibility 0s linear 0.4s;
    visibility: hidden;
    padding-top: 0;
    padding-bottom: 0;
    padding-left: 15px;
    padding-right: 15px;
    border-top: none;
}
.collapsible-content.expanded {
    max-height: 1000px;
    padding-top: 15px;
    padding-bottom: 15px;
    visibility: visible;
    transition: max-height 0.4s ease-out, padding-top 0.4s ease-out, padding-bottom 0.4s ease-out, visibility 0s linear 0s;
}
.admin-form-section.collapsible-section {
    padding: 0;
}


.table-container {
    width: 100%;
    margin-top: 15px;
    border-radius: 10px;
    border: 1px solid var(--border-color-default);
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    display: flex;
    flex-direction: column;
    flex-grow: 1;
    overflow: hidden;
}

#participants-table, #question-stats-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.9em;
}
#question-stats-table tr.disabled-question-row td,
#question-stats-table tr.disabled-question-row td button {
    background-color: var(--disabled-item-bg) !important;
    opacity: var(--disabled-item-opacity);
    color: #ccc !important;
}
#question-stats-table tr.disabled-question-row td button:hover {
    opacity: 1;
}


#participants-table th, #participants-table td,
#question-stats-table th, #question-stats-table td {
    border-bottom: 1px solid var(--caesb-blue-dark-default);
    padding: 10px;
    text-align: left;
}
#participants-table thead, #question-stats-table thead {
    position: sticky;
    top: 0;
    z-index: 1;
    background-color: var(--caesb-blue-medium-default);
}
#participants-table th, #question-stats-table th {
    color: var(--text-light-default);
    font-weight: bold;
    padding: 12px 10px;
    white-space: nowrap;
    cursor: pointer;
    transition: background-color 0.2s;
}
#participants-table th:hover, #question-stats-table th:hover {
    background-color: var(--caesb-blue-light-default);
}
.sort-icon {
    margin-left: 5px;
    font-size: 0.8em;
    display: inline-block;
    width: 1em;
}


#participants-table td {
    word-break: break-word;
    white-space: normal;
}
#participants-table th:nth-child(1), #participants-table td:nth-child(1) { width: 5%; text-align: center; white-space: nowrap; }
#participants-table th:nth-child(2), #participants-table td:nth-child(2) { width: 25%; }
#participants-table th:nth-child(3), #participants-table td:nth-child(3) { width: 20%; white-space: nowrap; }
#participants-table th:nth-child(4), #participants-table td:nth-child(4) { width: 10%; text-align: center; white-space: nowrap;}
#participants-table th:nth-child(5), #participants-table td:nth-child(5) { width: 10%; text-align: center; white-space: nowrap;}
#participants-table th:nth-child(6), #participants-table td:nth-child(6) { width: 10%; text-align: center; white-space: nowrap;}
#participants-table th:nth-child(7), #participants-table td:nth-child(7) { width: 20%; white-space: nowrap; }


.prize-icon { font-size: 1.2em; color: var(--quiz-highlight-color); vertical-align: middle; line-height: 1; }

#admin-stats-screen .stats-table-container {
    flex-grow: 1;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    min-height: 150px;
    border: 1px solid var(--border-color-default);
    border-radius: 10px;
    margin-top: 15px;
}
#question-stats-table th:nth-child(1) { width: 40%; }
#question-stats-table td:nth-child(1) { white-space: normal; word-break: break-word; }
#question-stats-table th:nth-child(2), #question-stats-table td:nth-child(2) { width: auto; text-align: center; white-space: nowrap;}
#question-stats-table th:nth-child(3), #question-stats-table td:nth-child(3) { width: auto; text-align: center; white-space: nowrap;}
#question-stats-table th:nth-child(4), #question-stats-table td:nth-child(4) { width: auto; text-align: center; white-space: nowrap;}
#question-stats-table th:nth-child(5), #question-stats-table td:nth-child(5) { width: auto; text-align: center; white-space: nowrap;}
#question-stats-table th:nth-child(6), #question-stats-table td:nth-child(6) { width: 15%; text-align: center; white-space: nowrap;}


.pagination-controls {
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 15px 0;
    flex-shrink: 0;
}
.btn-pagination {
    background-color: var(--caesb-blue-medium-default);
    color: var(--text-light-default);
    border: 1px solid var(--caesb-blue-light-default);
    padding: 8px 12px;
    margin: 0 5px;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s;
}
.btn-pagination:hover:not(:disabled) {
    background-color: var(--caesb-blue-light-default);
}
.btn-pagination:disabled {
    background-color: #555;
    color: #888;
    cursor: not-allowed;
    border-color: #666;
}
.page-info {
    margin: 0 10px;
    font-size: 0.9em;
}


/* Modais */
.modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.75); display: flex; justify-content: center; align-items: center; opacity: 0; visibility: hidden; transition: opacity 0.3s ease, visibility 0s linear 0.3s; z-index: 1999; }
.modal-overlay:not(.hidden) { opacity: 1; visibility: visible; transition: opacity 0.3s ease; }
.modal-content { background-color: var(--caesb-blue-dark-default); padding: 20px; border-radius: 10px; text-align: left; width: 90%; max-width: 550px; box-shadow: 0 5px 20px rgba(0,0,0,0.3); border: 1px solid var(--caesb-blue-medium-default); transform: scale(0.9); transition: transform 0.3s ease; display: flex; flex-direction: column; max-height: 85vh; position: relative; }
.modal-overlay:not(.hidden) .modal-content { transform: scale(1); }
.modal-title { font-size: clamp(1.4em, 4vw, 1.6em); color: var(--quiz-highlight-color); margin-top: 0; margin-bottom: 15px; flex-shrink: 0; text-align: center; }
.modal-text { font-size: 1em; line-height: 1.6; margin-bottom: 10px; color: var(--quiz-main-text-color); flex-grow: 1; overflow-y: auto; text-align: center; }
.modal-close-btn { display: inline-block; width: auto; padding: 10px 25px; font-size: 1em; margin-top: 20px; background-color: var(--caesb-blue-medium-default); flex-shrink: 0; }
.modal-close-btn:hover { background-color: var(--caesb-blue-light-default); }
.modal-actions { display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; margin-top: 20px; flex-shrink: 0; }
.modal-actions .btn, .modal-actions .btn-secondary { width: auto; flex-grow: 1; max-width: 200px; margin-top: 0; padding: 10px 20px; font-size: 1em; }
.modal-close-icon-btn { position: absolute; top: 10px; right: 10px; background: transparent; border: none; font-size: 2em; color: var(--quiz-main-text-color); cursor: pointer; line-height: 1; padding: 0 5px; }

#participant-details-modal { z-index: 2000; }
#alert-modal, #confirm-modal { z-index: 2001; }


#alert-modal .modal-content { border-color: var(--warning-color-default); }
#alert-modal .modal-title { color: var(--warning-color-default); }
#alert-modal .modal-close-btn { background-color: var(--warning-color-default); color: var(--text-dark-default); }
#confirm-modal.modal-type-danger .modal-content { border-color: var(--error-color-default); }
#confirm-modal.modal-type-danger .modal-title { color: var(--error-color-default); }
#confirm-modal.modal-type-warning .modal-content { border-color: var(--warning-color-default); }
#confirm-modal.modal-type-warning .modal-title { color: var(--warning-color-default); }

#winner-already-modal .modal-content p { text-align: center; }
#winner-already-modal .modal-timestamp { font-size: 0.75em; color: #82a0b9; font-style: italic; opacity: 0.9; margin-top: 8px; margin-bottom: 20px; }
.modal-scrollable-content { flex-grow: 1; overflow-y: auto; padding: 5px 10px; border: 1px solid var(--caesb-blue-medium-default); background-color: rgba(0,0,0,0.1); border-radius: 5px; text-align: left; margin-bottom: 15px; }
.question-review-item { padding: 12px 5px; border-bottom: 1px solid var(--border-color-default); }
.question-review-item:last-child { border-bottom: none; }
.question-review-item h4 { font-size: 1em; color: var(--quiz-main-text-color); margin-bottom: 8px; line-height: 1.4; }
.question-review-item p { font-size: 0.9em; line-height: 1.5; margin-bottom: 6px; }
.question-review-item .review-label { color: var(--quiz-highlight-color); margin-right: 5px; }
.question-review-item .user-answer.correct-text { color: var(--quiz-option-correct-bg); font-weight: bold; }
.question-review-item .user-answer.incorrect-text { color: var(--quiz-option-incorrect-bg); font-weight: bold; }
.question-review-item .correct-answer-review { color: var(--quiz-option-correct-bg); }
.modal-divider { border: none; height: 1px; background-color: var(--border-color-default); margin: 15px 0; }
#participant-info-section p { margin-bottom: 8px; }
#participant-info-section strong { color: var(--quiz-highlight-color); }
@keyframes modalGlowPulse { 50% { box-shadow: 0 5px 25px rgba(0,0,0,0.3), 0 0 20px var(--quiz-highlight-color); border-color: var(--quiz-highlight-color); } }
#top3-congrats-modal .modal-content { animation: modalGlowPulse 2s ease-in-out infinite alternate; border-width: 2px; }
#top3-congrats-modal #top3-modal-title { margin-bottom: 20px; }
#top3-congrats-modal #top3-modal-message-content { padding: 10px; border: none; background-color: transparent; overflow-y: visible; flex-grow: 0; text-align: center; }

.admin-back-btn { background-color: var(--caesb-blue-dark-default); color: var(--text-light-default); border: 1px solid var(--caesb-blue-medium-default); border-radius: 5px; padding: 8px 12px; font-size: 0.9em; font-weight: bold; cursor: pointer; transition: background-color 0.2s, transform 0.1s; flex-shrink: 0; margin-right: 10px; }
.admin-back-btn:hover { background-color: var(--caesb-blue-medium-default); }
.json-example-display { background-color: rgba(0, 0, 0, 0.2); border: 1px solid var(--border-color-default); padding: 10px; border-radius: 5px; font-family: monospace; font-size: 0.85em; white-space: pre-wrap; word-break: break-all; text-align: left; max-height: 200px; overflow-y: auto; }

.setting-item .setting-input-group { display: flex; align-items: center; gap: 10px; }
.setting-item .setting-input-group > input, .setting-item .setting-input-group > div { flex-grow: 1; }
.btn-reset-setting { background-color: var(--caesb-blue-dark-default); color: var(--caesb-blue-highlight-default); border: 1px solid var(--caesb-blue-medium-default); border-radius: 50%; width: 30px; height: 30px; font-size: 1.2em; line-height: 28px; padding: 0; cursor: pointer; flex-shrink: 0; transition: background-color 0.2s, transform 0.1s; }
.btn-reset-setting:hover { background-color: var(--caesb-blue-medium-default); }
.btn-reset-setting:active { transform: scale(0.9); }

#current-event-display p { margin-bottom: 8px; font-size: 0.95em; }
#current-event-display strong { color: var(--quiz-highlight-color); }
#current-event-display em { color: #aaa; font-style: normal; }

.difficulty-percentage-group { display: flex; align-items: center; margin-bottom: 8px; }
.difficulty-percentage-group label { flex-basis: 100px; flex-shrink: 0; font-size: 0.9em; color: var(--text-light-default); }
.difficulty-percentage-group input[type="number"] { width: 70px; text-align: center; margin-right: 5px; }

/* Animações de Alerta de Tempo (Borda Sólida Piscante) */
@keyframes borderPulseWarningGlow {
    0%, 100% {
        border-color: transparent;
    }
    50% {
        border-color: var(--warning-color-default); /* Borda sólida amarela */
    }
}

@keyframes borderPulseCriticalGlow {
    0%, 100% {
        border-color: transparent;
    }
    50% {
        border-color: var(--error-color-default); /* Borda sólida vermelha */
    }
}

/* Efeito de Flash na Tela */
@keyframes screenFlash {
    0%, 100% { opacity: 0; }
    50% { opacity: 1; }
}

.quiz-container.time-alert-flash-effect::after {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background-color: rgba(255, 107, 107, 0.2);
    animation: screenFlash 0.3s linear;
    pointer-events: none;
    z-index: 2500;
    opacity: 0;
}

/* NOVOS ESTILOS para Overlay de Tempo Esgotado e Opções Esmaecidas */
/* #time-out-overlay foi removido do HTML, a mensagem agora está em #post-question-controls */

#options-container.options-really-dimmed .option {
    opacity: 0.45 !important; /* Mais esmaecido que o .disabled padrão */
    /* filter: grayscale(50%);  Opcional: pode ser adicionado se quiser mais destaque de "desativado" */
    pointer-events: none !important; /* Garante que não seja clicável */
}

/* Ajuste na opacidade padrão para opções desabilitadas */
#options-container .option.disabled {
    pointer-events: none;
    opacity: 0.45; /* Opacidade padrão para desabilitado (seja por clique ou tempo) */
}


/* Estilos para o container da mensagem de tempo esgotado e botão Próxima */
#post-question-controls {
    display: flex; /* Começa escondido via classe .hidden no JS */
    align-items: center;
    justify-content: center;
    width: 100%;
    margin-top: 20px; /* Espaçamento acima */
    margin-bottom: 10px; /* Espaçamento abaixo */
    padding: 0 10px;
    box-sizing: border-box;
}

#timeout-message-text {
    color: var(--warning-color-default); /* Amarelo/Laranja de aviso */
    font-size: 1.1em; /* Tamanho um pouco maior para destaque */
    font-weight: bold;
    margin: 0 15px 0 0;
    padding: 0;
    line-height: 1.4; /* Para alinhar bem com a altura do botão */
}

#post-question-controls #next-question-btn {
    margin-top: 0;
    width: auto; /* Para não ocupar 100% */
    flex-grow: 0; /* Não estica */
    min-width: 180px; /* Largura mínima para o texto caber bem */
}


@media (max-width: 768px) {
    /* ... (media queries existentes) ... */
}


@media (max-width: 480px) {
    /* ... (media queries existentes) ... */

    #post-question-controls {
        flex-direction: column; /* Empilha a mensagem e o botão em telas pequenas */
        gap: 10px;
    }
    #timeout-message-text {
        margin-right: 0;
        margin-bottom: 5px; /* Pequena margem abaixo da mensagem quando empilhado */
    }
    #post-question-controls #next-question-btn {
        width: 100%; /* Botão ocupa largura total quando empilhado */
        max-width: 100%;
    }
}

.accessibility-controls-container { position: fixed; top: 10px; right: 10px; z-index: 1001; background-color: rgba(0, 34, 68, 0.85); padding: 5px; border-radius: 8px; display: flex; gap: 5px; box-shadow: 0 2px 5px rgba(0,0,0,0.2); }
.accessibility-controls-container button { background-color: var(--caesb-blue-medium-default); color: var(--text-light-default); border: 1px solid var(--caesb-blue-light-default); border-radius: 5px; padding: clamp(5px, 1vw, 8px) clamp(7px, 1.5vw, 10px); font-size: clamp(0.8em, 1.5vw, 0.95em); font-weight: bold; cursor: pointer; line-height: 1; transition: background-color 0.2s, transform 0.1s; min-width: 30px; text-align: center; }
.accessibility-controls-container button:hover { background-color: var(--caesb-blue-light-default); }
.accessibility-controls-container button:disabled { background-color: #777; border-color: #999; cursor: not-allowed; }
.accessibility-controls-container.hidden-on-idle { display: none !important; }

::-webkit-scrollbar { width: 8px; height: 8px; }
::-webkit-scrollbar-track { background: var(--caesb-blue-darkest-default); }
::-webkit-scrollbar-thumb { background-color: var(--caesb-blue-medium-default); border-radius: 10px; border: 2px solid var(--caesb-blue-darkest-default); }

.admin-sub-screen > .screen-content.admin-content,
#admin-dashboard-screen > .screen-content.admin-dashboard-content,
#ranking-screen #ranking-list,
.modal-scrollable-content,
.json-example-display,
#participants-table,
#question-stats-table
 {
    scrollbar-width: thin;
    scrollbar-color: var(--caesb-blue-medium-default) var(--caesb-blue-darkest-default);
}

#admin-customization-screen .admin-form-section h5 {
    color: var(--quiz-highlight-color);
    margin-top: 20px;
    margin-bottom: 15px;
    border-bottom: 1px solid var(--border-color-default);
    padding-bottom: 5px;
}
#admin-customization-screen .admin-form-section:first-child h5:first-child {
    margin-top: 0;
}
#admin-customization-screen .form-group {
    margin-bottom: 20px;
}
#admin-customization-screen .form-group label {
    font-size: 0.95em;
    margin-bottom: 6px;
}
#admin-customization-screen .form-group input[type="text"],
#admin-customization-screen .form-group textarea {
    font-size: 0.9em;
}
#admin-customization-screen .form-group input[type="color"] {
    min-height: 40px;
    padding: 3px;
}
.customization-buttons-footer {
    margin-top: 30px;
    padding-top: 20px;
    border-top: 1px solid var(--border-color-default);
    display: flex;
    gap: 15px;
    justify-content: center;
}
.customization-buttons-footer .btn,
.customization-buttons-footer .btn-secondary {
    width: auto;
    min-width: 180px;
}

/* NOVOS ESTILOS PARA O DASHBOARD ANALÍTICO */
.analytics-filters-section {
    margin-bottom: 20px;
    padding: 15px;
}
.analytics-filters-section .form-group {
    margin-bottom: 0; /* Remover margem extra se for o único elemento */
}
.analytics-filters-section label {
    margin-right: 10px;
}

.analytics-kpi-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
    margin-bottom: 30px;
}

.kpi-card {
    background-color: var(--caesb-blue-dark-default);
    padding: 15px;
    border-radius: 8px;
    border: 1px solid var(--caesb-blue-medium-default);
    text-align: center;
    box-shadow: 0 2px 5px rgba(0,0,0,0.15);
}

.kpi-card h5 {
    font-size: 1em;
    color: var(--quiz-highlight-color);
    margin-bottom: 8px;
    text-transform: uppercase;
}

.kpi-card p {
    font-size: 1.8em;
    font-weight: bold;
    color: var(--text-light-default);
    margin-bottom: 0;
}

.analytics-chart-container {
    background-color: rgba(0, 34, 68, 0.7);
    padding: 20px;
    border-radius: 8px;
    border: 1px solid var(--border-color-default);
    margin-bottom: 30px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}
.analytics-chart-container h4 {
    text-align: center;
    margin-bottom: 20px;
    color: var(--quiz-highlight-color);
}

.chart-placeholder {
    min-height: 250px; /* Altura mínima para os gráficos */
    display: flex;
    align-items: center;
    justify-content: center;
    color: #777;
    border: 1px dashed var(--border-color-default);
    border-radius: 5px;
    background-color: rgba(0,0,0,0.1);
}
.chart-placeholder p {
    margin: 0;
    font-style: italic;
}

.analytics-lists-container {
    display: grid;
    grid-template-columns: 1fr; /* Começa com uma coluna */
    gap: 20px;
}

.analytics-list-widget {
    background-color: rgba(0, 34, 68, 0.7);
    padding: 15px;
    border-radius: 8px;
    border: 1px solid var(--border-color-default);
}
.analytics-list-widget h4 {
    color: var(--quiz-highlight-color);
    margin-bottom: 15px;
    text-align: center;
}
.analytics-list-widget ul {
    list-style-type: none;
    padding: 0;
}
.analytics-list-widget li {
    background-color: var(--caesb-blue-dark-default);
    padding: 8px 12px;
    margin-bottom: 8px;
    border-radius: 5px;
    font-size: 0.9em;
    border: 1px solid var(--caesb-blue-medium-default);
}

@media (min-width: 768px) {
    .analytics-lists-container {
        grid-template-columns: 1fr 1fr; /* Duas colunas em telas maiores */
    }
}

/* Adicionar ao final do style.css ou em uma seção apropriada */

/* Estilos para os Gráficos de Barras do Dashboard Analítico */
.analytics-chart-container .analytics-bar-chart-wrapper {
    display: flex;
    justify-content: space-around; /* Ou space-between para mais espaçamento nas bordas */
    align-items: flex-end;
    height: 250px; /* Altura fixa para o container do gráfico */
    padding: 10px 5px 0px 5px; /* Espaço para rótulos abaixo */
    border: 1px solid var(--border-color-default);
    background-color: rgba(0,0,0,0.1);
    border-radius: 5px;
    overflow-x: auto; /* Permite rolagem se houver muitas barras */
    overflow-y: hidden;
}

.analytics-bar-chart-wrapper .bar-item-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    height: 100%; /* Para que a barra use a altura total disponível */
    min-width: 30px; /* Largura mínima para cada item de barra/rótulo */
    margin: 0 3px; /* Pequeno espaçamento entre as barras */
    position: relative; /* Para posicionar o valor dentro da barra */
}

.analytics-bar-chart-wrapper .bar {
    width: 90%; /* Largura da barra em si */
    max-width: 40px;
    background-color: var(--caesb-blue-highlight-default); /* Cor da barra */
    border-radius: 4px 4px 0 0; /* Cantos arredondados no topo */
    transition: height 0.5s ease-out;
    align-self: flex-end; /* Alinha a barra na parte inferior do container do item */
    position: relative; /* Para o valor dentro */
    display: flex;
    justify-content: center; /* Centraliza o valor horizontalmente */
    align-items: flex-end; /* Alinha o valor na base da barra */
}
.analytics-bar-chart-wrapper .bar:hover {
    filter: brightness(1.2);
}


.analytics-bar-chart-wrapper .bar-value {
    position: absolute;
    bottom: 5px; /* Posição do valor dentro da barra */
    font-size: 0.75em;
    color: var(--caesb-blue-darkest-default);
    font-weight: bold;
    text-shadow: 0 0 2px rgba(255,255,255,0.7);
    pointer-events: none; /* Para não interferir no hover da barra */
    opacity: 0; /* Começa invisível */
    transition: opacity 0.3s ease-in-out;
}
.analytics-bar-chart-wrapper .bar:hover .bar-value {
    opacity: 1; /* Mostra no hover */
}
.analytics-bar-chart-wrapper .bar-item-container:hover .bar-value {
     opacity: 1; /* Garante que apareça se o hover for no container */
}


.analytics-bar-chart-wrapper .bar-label {
    font-size: 0.75em;
    color: var(--quiz-main-text-color);
    margin-top: 5px; /* Espaço entre a barra e o rótulo */
    white-space: nowrap;
}

.chart-placeholder-text { /* Estilo para mensagens de "sem dados" nos gráficos */
    width: 100%;
    text-align: center;
    color: #9ab;
    font-style: italic;
    padding: 20px;
}

/* Estilos para as Listas de Questões do Dashboard Analítico */
.analytics-list-widget ul {
    list-style-type: none;
    padding: 0;
    max-height: 250px; /* Altura máxima para a lista, com rolagem se necessário */
    overflow-y: auto;
}

.analytics-list-widget li {
    background-color: var(--caesb-blue-dark-default);
    padding: 10px 12px;
    margin-bottom: 8px;
    border-radius: 5px;
    font-size: 0.85em; /* Tamanho de fonte um pouco menor para caber mais texto */
    border: 1px solid var(--caesb-blue-medium-default);
    color: var(--text-light-default);
    line-height: 1.4;
    white-space: normal; /* Permite quebra de linha no texto da questão */
    overflow-wrap: break-word;
    cursor: default; /* Para o tooltip aparecer */
}
.analytics-list-widget li:last-child {
    margin-bottom: 0;
}
.analytics-list-widget li:hover {
    background-color: var(--caesb-blue-medium-default);
}

.analytics-list-widget li.empty-list-message {
    background-color: transparent;
    border: none;
    color: #9ab;
    font-style: italic;
    text-align: center;
}

/* Ajuste para o placeholder geral se ainda estiver sendo usado */
.chart-placeholder p {
    margin: 0;
    font-style: italic;
    color: #9ab; /* Cor mais suave para o placeholder */
}

/* FIM DOS NOVOS ESTILOS PARA O DASHBOARD ANALÍTICO */

/* Correção para Responsividade do Gráfico no Dashboard Analítico */
.chart-placeholder:has(.analytics-bar-chart-wrapper) {
    display: block; /* Garante que o container se comporte como bloco */
    align-items: initial; /* Reseta o alinhamento flex, se houver */
    justify-content: initial; /* Reseta a justificação flex, se houver */
    /* A propriedade overflow-x: auto já está no .analytics-bar-chart-wrapper,
       então este container precisa apenas se comportar como um bloco normal
       para permitir que a rolagem interna do gráfico funcione corretamente. */
}